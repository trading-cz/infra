# Strimzi Kafka Operator - Helm Chart Values
# Reference: https://github.com/strimzi/strimzi-kafka-operator/tree/main/helm-charts/helm3/strimzi-kafka-operator

# This file documents the configuration used in cloud-init installation
# Actual installation uses command-line flags (see modules/k3s-server/cloud-init.yaml)

# ============================================
# Image Configuration
# ============================================
image:
  registry: quay.io
  repository: strimzi
  name: operator
  tag: 0.48.0

# ============================================
# Operator Configuration
# ============================================
# Watch all namespaces for Kafka resources (not just 'kafka' namespace)
watchAnyNamespace: true

# Namespace where operator is installed
watchNamespaces: []  # Empty = all namespaces when watchAnyNamespace=true

# ============================================
# Resource Limits
# ============================================
resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi

# ============================================
# Node Selector
# ============================================
# Deploy operator on kafka nodes (has more resources)
nodeSelector:
  workload: kafka

# ============================================
# RBAC
# ============================================
# Create cluster-wide roles (required for CRDs)
createGlobalResources: true

# ============================================
# Logging
# ============================================
logLevel: INFO
logLevelController: INFO

# ============================================
# Feature Gates
# ============================================
# KRaft mode and Kafka Node Pools are now enabled by default in 0.48.0
# No additional feature gates needed
featureGates: ""  # Empty = all stable features enabled

# ============================================
# Security
# ============================================
# Security context for operator pod
securityContext:
  runAsNonRoot: true
  runAsUser: 1000

# ============================================
# High Availability (Production)
# ============================================
replicas: 1  # Single replica (sufficient for dev/testing)

# ============================================
# Webhook Configuration
# ============================================
# Admission webhooks for validation (optional)
webhooks:
  enabled: false  # Disabled for simplicity
